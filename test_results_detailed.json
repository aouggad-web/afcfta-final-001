[
  {
    "test": "API Root Endpoint",
    "success": true,
    "message": "Point d'entrée accessible avec message ZLECAf",
    "timestamp": "2025-12-11T21:21:34.125485",
    "details": {
      "response": {
        "message": "Système Commercial ZLECAf API - Version Complète"
      }
    }
  },
  {
    "test": "Countries List",
    "success": true,
    "message": "Liste complète de 54 pays avec structure correcte",
    "timestamp": "2025-12-11T21:21:34.136559",
    "details": {
      "sample_countries": [
        {
          "code": "DZ",
          "name": "Algérie",
          "region": "Afrique du Nord",
          "iso3": "DZA",
          "wb_code": "DZA",
          "population": 44700000
        },
        {
          "code": "AO",
          "name": "Angola",
          "region": "Afrique Centrale",
          "iso3": "AGO",
          "wb_code": "AGO",
          "population": 32800000
        },
        {
          "code": "BJ",
          "name": "Bénin",
          "region": "Afrique de l'Ouest",
          "iso3": "BEN",
          "wb_code": "BEN",
          "population": 12100000
        }
      ]
    }
  },
  {
    "test": "Country Profile NG",
    "success": false,
    "message": "PIB incorrect: 268500000000.0 au lieu de 374.984",
    "timestamp": "2025-12-11T21:21:34.165713",
    "details": {
      "actual_gdp": 268500000000.0,
      "expected_gdp": 374.984
    }
  },
  {
    "test": "Country Profile DZ",
    "success": false,
    "message": "PIB incorrect: 278000000000.0 au lieu de 269.128",
    "timestamp": "2025-12-11T21:21:34.174920",
    "details": {
      "actual_gdp": 278000000000.0,
      "expected_gdp": 269.128
    }
  },
  {
    "test": "Country Profile ZA",
    "success": false,
    "message": "PIB incorrect: 377782000000.0 au lieu de 377.782",
    "timestamp": "2025-12-11T21:21:34.184001",
    "details": {
      "actual_gdp": 377782000000.0,
      "expected_gdp": 377.782
    }
  },
  {
    "test": "Country Profile EG",
    "success": false,
    "message": "PIB incorrect: 348000000000.0 au lieu de 331.59",
    "timestamp": "2025-12-11T21:21:34.196810",
    "details": {
      "actual_gdp": 348000000000.0,
      "expected_gdp": 331.59
    }
  },
  {
    "test": "Rules of Origin 010121",
    "success": true,
    "message": "Règles d'origine complètes pour 010121 - Entièrement obtenus",
    "timestamp": "2025-12-11T21:21:34.244414",
    "details": {
      "rule_type": "Entièrement obtenus",
      "regional_content": 100,
      "requirement": "100% africain"
    }
  },
  {
    "test": "Rules of Origin 847989",
    "success": true,
    "message": "Règles d'origine complètes pour 847989 - Transformation substantielle",
    "timestamp": "2025-12-11T21:21:34.251165",
    "details": {
      "rule_type": "Transformation substantielle",
      "regional_content": 45,
      "requirement": "45% valeur ajoutée africaine"
    }
  },
  {
    "test": "Tax Implementation SN->CI",
    "success": true,
    "message": "✅ Implémentation des taxes validée - TVA: 18.0%, Économies totales: 29500.00 USD (19.6%)",
    "timestamp": "2025-12-11T21:21:44.517813",
    "details": {
      "vat_rate": "18.0%",
      "vat_amount": 22950.0,
      "statistical_fee": 1000.0,
      "community_levy": 500.0,
      "ecowas_levy": 1000.0,
      "normal_total": 150450.0,
      "zlecaf_total": 120950.0,
      "total_savings": 29500.0,
      "savings_percentage": 19.607843137254903
    }
  },
  {
    "test": "Tariff Calculation",
    "success": true,
    "message": "Calcul tarifaire réussi - Économies: 25000.00 USD (100.0%)",
    "timestamp": "2025-12-11T21:21:54.641546",
    "details": {
      "normal_tariff": "25.0%",
      "zlecaf_tariff": "0.0%",
      "savings_usd": 25000.0,
      "savings_percent": 100.0,
      "calculation_id": "61fabab2-549c-43aa-8b69-14e852b57ed6"
    }
  },
  {
    "test": "Statistics",
    "success": true,
    "message": "Statistiques complètes - 54 pays, 1247 calculs",
    "timestamp": "2025-12-11T21:21:54.659327",
    "details": {
      "countries": 54,
      "calculations": 1247,
      "population": 1318000000,
      "gdp": 2706000000000,
      "tariff_reduction": "90%"
    }
  },
  {
    "test": "Production Statistics",
    "success": false,
    "message": "Nombre de pays incorrect: 1 au lieu de 10",
    "timestamp": "2025-12-11T21:21:54.706498",
    "details": {
      "total_countries": 1
    }
  },
  {
    "test": "Production Macro",
    "success": false,
    "message": "Champs manquants dans les enregistrements: ['sector', 'source']",
    "timestamp": "2025-12-11T21:21:54.714766",
    "details": {
      "sample_record": {
        "country_name": "Afrique du Sud",
        "country_iso3": "ZAF",
        "year": 2021,
        "sector_isic_section": "A",
        "sector_detail": "Agriculture, forestry and fishing",
        "indicator_code": "NV.AGR.TOTL.ZS",
        "indicator_label": "Agriculture, value added (% of GDP)",
        "value": 2.4,
        "unit": "percent",
        "currency": null,
        "price_base_year": null,
        "source_institution": "World Bank",
        "source_dataset": "World Development Indicators",
        "source_url": "https://data.worldbank.org/indicator/NV.AGR.TOTL.ZS",
        "wb_indicator_code": "NV.AGR.TOTL.ZS"
      }
    }
  },
  {
    "test": "Production Macro ZAF",
    "success": true,
    "message": "Données macro ZAF organisées par secteur - 3 secteurs",
    "timestamp": "2025-12-11T21:21:54.721481",
    "details": {
      "country": "ZAF",
      "sectors_count": 3,
      "sectors": [
        "Agriculture, forestry and fishing",
        "Industry (including construction)",
        "Manufacturing"
      ]
    }
  },
  {
    "test": "Production Agriculture",
    "success": false,
    "message": "Champs manquants dans les enregistrements: ['commodity', 'source']",
    "timestamp": "2025-12-11T21:21:54.728299",
    "details": {
      "sample_record": {
        "country_name": "Afrique du Sud",
        "country_iso3": "ZAF",
        "year": 2021,
        "sector_isic_section": "A",
        "sector_detail": "Crops",
        "indicator_code": "QCL_PROD",
        "indicator_label": "Production",
        "value": 14500000,
        "unit": "tonnes",
        "currency": null,
        "price_base_year": null,
        "source_institution": "FAO",
        "source_dataset": "FAOSTAT - Production",
        "source_url": "https://www.fao.org/faostat/",
        "faostat_domain": "QCL",
        "commodity_code": "0015",
        "commodity_label": "Maize (corn)",
        "element_code": "5510",
        "element_label": "Production"
      }
    }
  },
  {
    "test": "Production Agriculture ZAF",
    "success": true,
    "message": "Données agricoles ZAF organisées par culture - 1 cultures",
    "timestamp": "2025-12-11T21:21:54.734844",
    "details": {
      "country": "ZAF",
      "commodities_count": 1,
      "commodities": [
        "Maize (corn)"
      ]
    }
  },
  {
    "test": "Production Manufacturing",
    "success": false,
    "message": "Champs manquants dans les enregistrements: ['source']",
    "timestamp": "2025-12-11T21:21:54.783808",
    "details": {
      "sample_record": {
        "country_name": "Afrique du Sud",
        "country_iso3": "ZAF",
        "year": 2021,
        "sector_isic_section": "C",
        "sector_detail": "Food products",
        "indicator_code": "INDSTAT_VA",
        "indicator_label": "Value added",
        "value": 28500000000,
        "unit": "USD",
        "currency": "USD",
        "price_base_year": "2015",
        "source_institution": "UNIDO",
        "source_dataset": "INDSTAT4",
        "source_url": "https://stat.unido.org/",
        "unido_dataset": "INDSTAT4",
        "isic_revision": "4",
        "isic_code": "10",
        "isic_label": "Manufacture of food products"
      }
    }
  },
  {
    "test": "Production Manufacturing ZAF",
    "success": true,
    "message": "Données manufacturières ZAF organisées par secteur ISIC - 1 secteurs",
    "timestamp": "2025-12-11T21:21:54.831859",
    "details": {
      "country": "ZAF",
      "isic_sectors_count": 1,
      "isic_sectors": [
        "10 - Manufacture of food products"
      ]
    }
  },
  {
    "test": "Production Mining",
    "success": false,
    "message": "Champs manquants dans les enregistrements: ['commodity', 'source']",
    "timestamp": "2025-12-11T21:21:54.839142",
    "details": {
      "sample_record": {
        "country_name": "Afrique du Sud",
        "country_iso3": "ZAF",
        "year": 2021,
        "sector_isic_section": "B",
        "sector_detail": "Mining and quarrying",
        "indicator_code": "USGS_PROD",
        "indicator_label": "Mine production",
        "value": 100000,
        "unit": "kg",
        "currency": null,
        "price_base_year": null,
        "source_institution": "USGS",
        "source_dataset": "Mineral Commodity Summaries 2023",
        "source_url": "https://www.usgs.gov/centers/national-minerals-information-center/mineral-commodity-summaries",
        "commodity_code": "AU",
        "commodity_label": "Gold",
        "usgs_table_name": "Table 1 - Gold mine production"
      }
    }
  },
  {
    "test": "Production Mining ZAF",
    "success": false,
    "message": "Code de statut incorrect: 500",
    "timestamp": "2025-12-11T21:21:54.845640",
    "details": {
      "status_code": 500
    }
  },
  {
    "test": "Production Overview ZAF",
    "success": true,
    "message": "Vue complète ZAF validée - 4 dimensions avec 16 enregistrements totaux",
    "timestamp": "2025-12-11T21:21:54.854204",
    "details": {
      "country": "ZAF",
      "dimensions": 4,
      "total_records": 16,
      "value_added_count": "dict",
      "agriculture_count": "dict",
      "manufacturing_count": "dict",
      "mining_count": "dict"
    }
  },
  {
    "test": "Production Filtering Country",
    "success": true,
    "message": "Filtrage par pays ZAF validé - 12 enregistrements",
    "timestamp": "2025-12-11T21:21:54.861935",
    "details": {
      "filtered_records": 12,
      "country": "ZAF"
    }
  },
  {
    "test": "Production Filtering Year",
    "success": true,
    "message": "Filtrage par année 2024 validé - 3 enregistrements",
    "timestamp": "2025-12-11T21:21:54.869172",
    "details": {
      "filtered_records": 3,
      "year": 2024
    }
  },
  {
    "test": "Production Filtering Commodity",
    "success": true,
    "message": "Filtrage par commodity Maize validé - 4 enregistrements",
    "timestamp": "2025-12-11T21:21:54.876918",
    "details": {
      "filtered_records": 4,
      "commodity": "Maize"
    }
  }
]