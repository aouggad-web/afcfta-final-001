[
  {
    "test": "API Root Endpoint",
    "success": true,
    "message": "Point d'entrée accessible avec message ZLECAf",
    "timestamp": "2025-12-23T17:34:18.446809",
    "details": {
      "response": {
        "message": "Système Commercial ZLECAf API - Version Complète"
      }
    }
  },
  {
    "test": "Countries List",
    "success": true,
    "message": "Liste complète de 54 pays avec structure correcte",
    "timestamp": "2025-12-23T17:34:18.460067",
    "details": {
      "sample_countries": [
        {
          "code": "DZ",
          "name": "Algérie",
          "region": "Afrique du Nord",
          "iso3": "DZA",
          "wb_code": "DZA",
          "population": 44700000
        },
        {
          "code": "AO",
          "name": "Angola",
          "region": "Afrique Centrale",
          "iso3": "AGO",
          "wb_code": "AGO",
          "population": 32800000
        },
        {
          "code": "BJ",
          "name": "Bénin",
          "region": "Afrique de l'Ouest",
          "iso3": "BEN",
          "wb_code": "BEN",
          "population": 12100000
        }
      ]
    }
  },
  {
    "test": "Country Profile NG",
    "success": false,
    "message": "PIB incorrect: 268500000000.0 au lieu de 374.984",
    "timestamp": "2025-12-23T17:34:18.479211",
    "details": {
      "actual_gdp": 268500000000.0,
      "expected_gdp": 374.984
    }
  },
  {
    "test": "Country Profile DZ",
    "success": false,
    "message": "PIB incorrect: 260100000000.00003 au lieu de 269.128",
    "timestamp": "2025-12-23T17:34:18.494120",
    "details": {
      "actual_gdp": 260100000000.00003,
      "expected_gdp": 269.128
    }
  },
  {
    "test": "Country Profile ZA",
    "success": false,
    "message": "PIB incorrect: 377782000000.0 au lieu de 377.782",
    "timestamp": "2025-12-23T17:34:18.506241",
    "details": {
      "actual_gdp": 377782000000.0,
      "expected_gdp": 377.782
    }
  },
  {
    "test": "Country Profile EG",
    "success": false,
    "message": "PIB incorrect: 348000000000.0 au lieu de 331.59",
    "timestamp": "2025-12-23T17:34:18.517268",
    "details": {
      "actual_gdp": 348000000000.0,
      "expected_gdp": 331.59
    }
  },
  {
    "test": "Rules of Origin 010121",
    "success": true,
    "message": "Règles d'origine complètes pour 010121 - Entièrement obtenus",
    "timestamp": "2025-12-23T17:34:18.530515",
    "details": {
      "rule_type": "Entièrement obtenus",
      "regional_content": 100,
      "requirement": "100% africain"
    }
  },
  {
    "test": "Rules of Origin 847989",
    "success": true,
    "message": "Règles d'origine complètes pour 847989 - Transformation substantielle",
    "timestamp": "2025-12-23T17:34:18.538721",
    "details": {
      "rule_type": "Transformation substantielle",
      "regional_content": 45,
      "requirement": "45% valeur ajoutée africaine"
    }
  },
  {
    "test": "Tax Implementation SN->CI",
    "success": true,
    "message": "✅ Implémentation des taxes validée - TVA: 18.0%, Économies totales: 29500.00 USD (19.6%)",
    "timestamp": "2025-12-23T17:34:21.945807",
    "details": {
      "vat_rate": "18.0%",
      "vat_amount": 22950.0,
      "statistical_fee": 1000.0,
      "community_levy": 500.0,
      "ecowas_levy": 1000.0,
      "normal_total": 150450.0,
      "zlecaf_total": 120950.0,
      "total_savings": 29500.0,
      "savings_percentage": 19.607843137254903
    }
  },
  {
    "test": "Tariff Calculation",
    "success": true,
    "message": "Calcul tarifaire réussi - Économies: 25000.00 USD (100.0%)",
    "timestamp": "2025-12-23T17:34:25.009110",
    "details": {
      "normal_tariff": "25.0%",
      "zlecaf_tariff": "0.0%",
      "savings_usd": 25000.0,
      "savings_percent": 100.0,
      "calculation_id": "990baf42-33d5-4541-ab64-e7d7e186a6b8"
    }
  },
  {
    "test": "Statistics",
    "success": true,
    "message": "Statistiques complètes - 54 pays, 1247 calculs",
    "timestamp": "2025-12-23T17:34:25.033462",
    "details": {
      "countries": 54,
      "calculations": 1247,
      "population": 1318000000,
      "gdp": 2706000000000,
      "tariff_reduction": "90%"
    }
  },
  {
    "test": "Algeria Profile - ongoing_projects & infrastructure_ranking",
    "success": false,
    "message": "Problèmes de validation - Projects valid: False, Ranking valid: True",
    "timestamp": "2025-12-23T17:34:25.045351",
    "details": {
      "projects": {
        "missing_fields": [
          "name",
          "status",
          "budget_usd",
          "start_date"
        ],
        "sample_project": {
          "titre": "Ligne Ferroviaire Minière Béchar-Tindouf-Gara Djebilet",
          "secteur": "Mines & Transport",
          "statut": "En construction (Avancé)",
          "budget": "Est. 1.5 - 2 Mrd USD (Rail)",
          "echeance": "Janvier 2026 (Premier train)",
          "description": "Mégaprojet ferroviaire de 950 km reliant le gisement de fer de Gara Djebilet (Tindouf) au réseau national à Béchar. Le projet est crucial pour l'exploitation de l'une des plus grandes réserves de fer au monde (3.5 Mrd tonnes).",
          "impact": "Acheminement de 40-50M tonnes/an de minerai vers le port d'Arzew/Oran. Création de 15,000 emplois directs. Désenclavement du Sud-Ouest.",
          "partenaires": "Partenariat Algéro-Chinois (CRCC)",
          "source": "Ministère des Travaux Publics / ANESRIF 2025"
        }
      },
      "infrastructure_ranking": {
        "available_fields": [
          "africa_rank"
        ],
        "africa_rank": 8,
        "global_rank": null,
        "score": null
      }
    }
  },
  {
    "test": "Egypt Profile - ongoing_projects & infrastructure_ranking",
    "success": false,
    "message": "Problèmes de validation - Projects valid: False, Ranking valid: True",
    "timestamp": "2025-12-23T17:34:25.056549",
    "details": {
      "projects": {
        "missing_fields": [
          "name",
          "status",
          "budget_usd",
          "start_date"
        ],
        "sample_project": {
          "titre": "Nouvelle Capitale Administrative",
          "secteur": "Urbanisme & Infrastructure",
          "statut": "En construction (Phase 1 opérationnelle)",
          "budget": "58 Milliards USD",
          "echeance": "2025-2030 (Phases successives)",
          "description": "Construction d'une nouvelle ville intelligente à 45km du Caire pour désengorger la capitale. Inclut le plus haut gratte-ciel d'Afrique (Iconic Tower).",
          "impact": "Centre administratif et économique moderne pour 6.5 millions d'habitants.",
          "partenaires": "CSCEC (Chine), Gouvernement Égyptien",
          "source": "ACUD Egypt"
        }
      },
      "infrastructure_ranking": {
        "available_fields": [
          "africa_rank"
        ],
        "africa_rank": 4,
        "global_rank": null,
        "score": null
      }
    }
  },
  {
    "test": "Tanger Med Port - Performance & Authority",
    "success": true,
    "message": "✅ Port de Tanger Med: Performance metrics (3 métriques) et authority details (3 infos) présents et valides",
    "timestamp": "2025-12-23T17:34:25.079296",
    "details": {
      "port_name": "Port de Tanger Med",
      "port_id": "MAR-TAN-001",
      "performance_metrics": {
        "found_fields": [
          "container_throughput_teu",
          "cargo_throughput_tons",
          "vessel_calls"
        ],
        "values": {
          "container_throughput_teu": 8200000,
          "cargo_throughput_tons": 96000000,
          "vessel_calls": 4200
        },
        "count": 3
      },
      "authority_details": {
        "found_fields": [
          "name",
          "website",
          "contact_email"
        ],
        "values": {
          "name": "Tanger Med Port Authority",
          "website": "www.tangermed.ma",
          "contact_email": "contact@authority.com"
        },
        "count": 3
      }
    }
  },
  {
    "test": "Production Statistics",
    "success": false,
    "message": "Nombre de pays incorrect: 54 au lieu de 10",
    "timestamp": "2025-12-23T17:34:25.090078",
    "details": {
      "total_countries": 54
    }
  },
  {
    "test": "Production Macro",
    "success": false,
    "message": "Champs manquants dans les enregistrements: ['sector', 'source']",
    "timestamp": "2025-12-23T17:34:25.122371",
    "details": {
      "sample_record": {
        "country_name": "Afrique du Sud",
        "country_iso3": "ZAF",
        "year": 2021,
        "sector_isic_section": "A",
        "sector_detail": "Agriculture, forestry and fishing",
        "indicator_code": "NV.AGR.TOTL.ZS",
        "indicator_label": "Agriculture, value added (% of GDP)",
        "value": 2.4,
        "unit": "percent",
        "currency": null,
        "price_base_year": null,
        "source_institution": "World Bank",
        "source_dataset": "World Development Indicators",
        "source_url": "https://data.worldbank.org/indicator/NV.AGR.TOTL.ZS",
        "wb_indicator_code": "NV.AGR.TOTL.ZS"
      }
    }
  },
  {
    "test": "Production Macro ZAF",
    "success": true,
    "message": "Données macro ZAF organisées par secteur - 3 secteurs",
    "timestamp": "2025-12-23T17:34:25.132004",
    "details": {
      "country": "ZAF",
      "sectors_count": 3,
      "sectors": [
        "Agriculture, forestry and fishing",
        "Industry (including construction)",
        "Manufacturing"
      ]
    }
  },
  {
    "test": "Production Agriculture",
    "success": false,
    "message": "Champs manquants dans les enregistrements: ['commodity', 'source']",
    "timestamp": "2025-12-23T17:34:25.165549",
    "details": {
      "sample_record": {
        "country_name": "Afrique du Sud",
        "country_iso3": "ZAF",
        "year": 2021,
        "sector_isic_section": "A",
        "sector_detail": "Crops",
        "indicator_code": "QCL_PROD",
        "indicator_label": "Production",
        "value": 15360428,
        "unit": "tonnes",
        "currency": null,
        "price_base_year": null,
        "source_institution": "FAO",
        "source_dataset": "FAOSTAT - Production",
        "source_url": "https://www.fao.org/faostat/",
        "faostat_domain": "QCL",
        "commodity_code": "0455",
        "commodity_label": "Maize (corn)",
        "element_code": "5510",
        "element_label": "Production"
      }
    }
  },
  {
    "test": "Production Agriculture ZAF",
    "success": true,
    "message": "Données agricoles ZAF organisées par culture - 3 cultures",
    "timestamp": "2025-12-23T17:34:25.174196",
    "details": {
      "country": "ZAF",
      "commodities_count": 3,
      "commodities": [
        "Maize (corn)",
        "Sugarcane",
        "Wheat"
      ]
    }
  },
  {
    "test": "Production Manufacturing",
    "success": false,
    "message": "Champs manquants dans les enregistrements: ['source']",
    "timestamp": "2025-12-23T17:34:25.198217",
    "details": {
      "sample_record": {
        "country_name": "Afrique du Sud",
        "country_iso3": "ZAF",
        "year": 2021,
        "sector_isic_section": "C",
        "sector_detail": "Manufacture of food products",
        "indicator_code": "INDSTAT_VA",
        "indicator_label": "Value added",
        "value": 31588069818,
        "unit": "USD",
        "currency": "USD",
        "price_base_year": "2015",
        "source_institution": "UNIDO",
        "source_dataset": "INDSTAT4",
        "source_url": "https://stat.unido.org/",
        "unido_dataset": "INDSTAT4",
        "isic_revision": "4",
        "isic_code": "10",
        "isic_label": "Manufacture of food products"
      }
    }
  },
  {
    "test": "Production Manufacturing ZAF",
    "success": true,
    "message": "Données manufacturières ZAF organisées par secteur ISIC - 2 secteurs",
    "timestamp": "2025-12-23T17:34:25.208115",
    "details": {
      "country": "ZAF",
      "isic_sectors_count": 2,
      "isic_sectors": [
        "10 - Manufacture of food products",
        "24 - Manufacture of basic metals"
      ]
    }
  },
  {
    "test": "Production Mining",
    "success": false,
    "message": "Champs manquants dans les enregistrements: ['commodity', 'source']",
    "timestamp": "2025-12-23T17:34:25.234618",
    "details": {
      "sample_record": {
        "country_name": "Afrique du Sud",
        "country_iso3": "ZAF",
        "year": 2021,
        "sector_isic_section": "B",
        "sector_detail": "Mining and quarrying",
        "indicator_code": "USGS_PROD",
        "indicator_label": "Mine production",
        "value": 435109,
        "unit": "tonnes",
        "currency": null,
        "price_base_year": null,
        "source_institution": "USGS",
        "source_dataset": "Mineral Commodity Summaries 2023",
        "source_url": "https://www.usgs.gov/centers/national-minerals-information-center/mineral-commodity-summaries",
        "commodity_code": "GO",
        "commodity_label": "Gold",
        "usgs_table_name": "Table 1 - Gold mine production"
      }
    }
  },
  {
    "test": "Production Mining ZAF",
    "success": true,
    "message": "Données minières ZAF organisées par minerai - 2 minerais",
    "timestamp": "2025-12-23T17:34:25.244507",
    "details": {
      "country": "ZAF",
      "commodities_count": 2,
      "commodities": [
        "Gold",
        "Platinum"
      ]
    }
  },
  {
    "test": "Production Overview ZAF",
    "success": true,
    "message": "Vue complète ZAF validée - 4 dimensions avec 16 enregistrements totaux",
    "timestamp": "2025-12-23T17:34:25.253642",
    "details": {
      "country": "ZAF",
      "dimensions": 4,
      "total_records": 16,
      "value_added_count": "dict",
      "agriculture_count": "dict",
      "manufacturing_count": "dict",
      "mining_count": "dict"
    }
  },
  {
    "test": "Production Filtering Country",
    "success": true,
    "message": "Filtrage par pays ZAF validé - 12 enregistrements",
    "timestamp": "2025-12-23T17:34:25.263357",
    "details": {
      "filtered_records": 12,
      "country": "ZAF"
    }
  },
  {
    "test": "Production Filtering Year",
    "success": true,
    "message": "Filtrage par année 2024 validé - 162 enregistrements",
    "timestamp": "2025-12-23T17:34:25.279963",
    "details": {
      "filtered_records": 162,
      "year": 2024
    }
  },
  {
    "test": "Production Filtering Commodity",
    "success": true,
    "message": "Filtrage par commodity Maize validé - 116 enregistrements",
    "timestamp": "2025-12-23T17:34:25.297109",
    "details": {
      "filtered_records": 116,
      "commodity": "Maize"
    }
  }
]